{"remainingRequest":"/home/rido/code/vue-10-apps/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/rido/code/vue-10-apps/src/pages/Chat.vue?vue&type=template&id=658eb408","dependencies":[{"path":"/home/rido/code/vue-10-apps/src/pages/Chat.vue","mtime":1611728242646},{"path":"/home/rido/code/vue-10-apps/node_modules/cache-loader/dist/cjs.js","mtime":1610270851788},{"path":"/home/rido/code/vue-10-apps/node_modules/babel-loader/lib/index.js","mtime":1610188258325},{"path":"/home/rido/code/vue-10-apps/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1610270854965},{"path":"/home/rido/code/vue-10-apps/node_modules/cache-loader/dist/cjs.js","mtime":1610270851788},{"path":"/home/rido/code/vue-10-apps/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":1610270854965}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgICA8ZGl2IGNsYXNzPSJmbGV4IGZsZXgtY29sIHctZnVsbCBteS00Ij4KICAgICAgICA8ZGl2IGNsYXNzPSJtLWF1dG8iPgogICAgICAgICAgICA8aDEgY2xhc3M9InRleHQtMnhsIHRleHQtY2VudGVyIG15LTIiPlJlYWx0aW1lIENoYXQgdnVlPC9oMT4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iYm9yZGVyIHJvdW5kZWQgYmctd2hpdGUgdy05NiI+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJoLTk2IHAtNCBmbGV4IGZsZXgtY29sIHNwYWNlLXktNCBvdmVyZmxvdy15LXNjcm9sbCI+CiAgICAgICAgICAgICAgICAgICAgPGRpdgogICAgICAgICAgICAgICAgICAgICAgICB2LWZvcj0iY2hhdCBpbiBzdGF0ZS5jaGF0cyIKICAgICAgICAgICAgICAgICAgICAgICAgOmtleT0iY2hhdC5tZXNzYWdlIgogICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz0idy1mdWxsIgogICAgICAgICAgICAgICAgICAgICAgICA6Y2xhc3M9ImNoYXQudXNlcklkID09PSB1c2VySWQgPyAndGV4dC1yaWdodCcgOiAnJyIKICAgICAgICAgICAgICAgICAgICA+CiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz0icC0yIHJvdW5kZWQtbGcgdGV4dC13aGl0ZSBzaGFkb3ciCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6Y2xhc3M9IgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYXQudXNlcklkID09PSB1c2VySWQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnYmctZ3JlZW4tNTAwJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6ICdiZy1ibHVlLTUwMCcKICAgICAgICAgICAgICAgICAgICAgICAgICAgICIKICAgICAgICAgICAgICAgICAgICAgICAgICAgID57eyBjaGF0Lm1lc3NhZ2UgfX08L3NwYW4KICAgICAgICAgICAgICAgICAgICAgICAgPgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJoLTggcC0yIj4KICAgICAgICAgICAgICAgICAgICA8aW5wdXQKICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9InctZnVsbCBwLTIgYm9yZGVyIHJvdW5kZWQtbGcgc2hhZG93IGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nIGZvY3VzOnJpbmctYmx1ZS00MDAgZm9jdXM6cmluZy1vZmZzZXQtMiIKICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9IlR5cGUgbWVzc2FnZS4uLiIKICAgICAgICAgICAgICAgICAgICAgICAgcmVmPSJmb2N1c1JlZiIKICAgICAgICAgICAgICAgICAgICAgICAgdi1tb2RlbD0ic3RhdGUubWVzc2FnZSIKICAgICAgICAgICAgICAgICAgICAgICAgQGtleWRvd24uZW50ZXI9ImFkZE1lc3NhZ2UiCiAgICAgICAgICAgICAgICAgICAgLz4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgIDwvZGl2Pgo="},{"version":3,"sources":["/home/rido/code/vue-10-apps/src/pages/Chat.vue"],"names":[],"mappings":"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","file":"/home/rido/code/vue-10-apps/src/pages/Chat.vue","sourceRoot":"","sourcesContent":["<template>\n    <div class=\"flex flex-col w-full my-4\">\n        <div class=\"m-auto\">\n            <h1 class=\"text-2xl text-center my-2\">Realtime Chat vue</h1>\n            <div class=\"border rounded bg-white w-96\">\n                <div class=\"h-96 p-4 flex flex-col space-y-4 overflow-y-scroll\">\n                    <div\n                        v-for=\"chat in state.chats\"\n                        :key=\"chat.message\"\n                        class=\"w-full\"\n                        :class=\"chat.userId === userId ? 'text-right' : ''\"\n                    >\n                        <span\n                            class=\"p-2 rounded-lg text-white shadow\"\n                            :class=\"\n                                chat.userId === userId\n                                    ? 'bg-green-500'\n                                    : 'bg-blue-500'\n                            \"\n                            >{{ chat.message }}</span\n                        >\n                    </div>\n                </div>\n                <div class=\"h-8 p-2\">\n                    <input\n                        class=\"w-full p-2 border rounded-lg shadow focus:outline-none focus:ring focus:ring-blue-400 focus:ring-offset-2\"\n                        placeholder=\"Type message...\"\n                        ref=\"focusRef\"\n                        v-model=\"state.message\"\n                        @keydown.enter=\"addMessage\"\n                    />\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { computed, onMounted, reactive, ref } from \"vue\";\nimport firebase from \"../utilities/firebase\";\nimport { useStore } from \"vuex\";\nexport default {\n    setup() {\n        const focusRef = ref(\"\");\n        const state = reactive({\n            chats: {},\n            message: \"\",\n        });\n\n        // get user data id from store (vuex)\n        const store = useStore();\n        const userId = computed(() => store.state.authUser.uid);\n\n        onMounted(async () => {\n            // focus input text\n            focusRef.value.focus();\n\n            // for get data chat from realtime database\n            const response = await firebase\n                .database()\n                .ref(\"chats\")\n                .once(\"value\");\n            state.chats = response.val();\n\n            // whatcing for changes realtime database\n            await firebase\n                .database()\n                .ref(\"chats\")\n                .on(\"value\", (snapshot) => {\n                    state.chats = snapshot.val();\n                });\n        });\n\n        // function for push/add message to firebase realtime database\n        const addMessage = async () => {\n            const newChat = await firebase.database().ref(\"chats\");\n            newChat.push().set({\n                userId: userId.value,\n                message: state.message,\n            });\n            // clear text field after done push message\n            state.message = \"\";\n        };\n\n        return { state, addMessage, focusRef, userId };\n    },\n};\n</script>\n\n<style>\n</style>"]}]}